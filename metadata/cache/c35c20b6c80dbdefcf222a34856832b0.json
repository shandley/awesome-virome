{
  "cache_date": "2025-08-01T11:55:21.966746",
  "data": "# VIPERA\n\n<p align=\"center\">\n  <img src=\"logo.jpg\" title=\"VIPERA logo\">\n</p>\n\n[![PGO badge](https://img.shields.io/badge/PathoGenOmics-Lab-yellow.svg)](https://pathogenomics.github.io/)\n[![DOI](https://img.shields.io/badge/Virus_Evolution-10.1093/ve/veae018-387088.svg)](https://doi.org/10.1093/ve/veae018)\n[![Latest release](https://img.shields.io/github/v/release/PathoGenOmics-Lab/VIPERA)](https://github.com/PathoGenOmics-Lab/VIPERA/releases)\n\n![Install workflow](https://github.com/PathoGenOmics-Lab/VIPERA/actions/workflows/install.yml/badge.svg)\n![Test workflow with Snakemake v7](https://github.com/PathoGenOmics-Lab/VIPERA/actions/workflows/test_v7.yml/badge.svg)\n![Test workflow with Snakemake v8](https://github.com/PathoGenOmics-Lab/VIPERA/actions/workflows/test_v8.yml/badge.svg)\n![Test workflow with Snakemake v9](https://github.com/PathoGenOmics-Lab/VIPERA/actions/workflows/test_v9.yml/badge.svg)\n![Test workflow with Snakemake v9 and Apptainer](https://github.com/PathoGenOmics-Lab/VIPERA/actions/workflows/test_apptainer.yml/badge.svg)\n\nA pipeline for SARS-CoV-2 Viral Intra-Patient Evolution Reporting and Analysis.\n\n## First steps\n\nTo run VIPERA locally with the default configuration, you only need one line of code after\n[installing Snakemake](https://snakemake.readthedocs.io/en/stable/getting_started/installation.html),\nconfiguring [the inputs and outputs](config/README.md#inputs-and-outputs) and\n[the context dataset](config/README.md#automated-construction-of-a-context-dataset):\n\n```shell\nsnakemake --use-conda --cores 4  # command for Snakemake v7\n```\n\nWe provide a simple script that downloads the [data](https://doi.org/10.20350/digitalCSIC/15648) from [our study](https://doi.org/10.1093/ve/veae018)\nand performs the analysis in a single step:\n\n```shell\n./run_default_VIPERA.sh\n```\n\nThe workflow is compatible with both local execution and HPC environments utilizing SLURM.\nThe latter requires installing the [Snakemake executor plugin for SLURM](https://snakemake.github.io/snakemake-plugin-catalog/plugins/executor/slurm.html).\nIt supports dependency management through either conda or Apptainer/Singularity, as detailed in the\n[run modes documentation](config/README.md#run-modes).\n\nWe use continuous integration (CI) to automatically verify that all dependencies install correctly\nwith Snakemake v7.32.4 (see GitHub Action `Install`), and to test that VIPERA runs\nsuccessfully with Snakemake v7.32.4, v8.30.0, and v9.1.6 using conda (Actions `Test Sm v[7-9]`).\nWe also test a containerized workflow with Snakemake v9.1.6 and Apptainer using a\n[remote image](https://hub.docker.com/r/ahmig/vipera) (Action `Test Sm v9 Apptainer`).\nThis image is automatically updated in every version (Action `Deploy`).\n\nPlease refer to the [**full workflow documentation**](config/README.md) for detailed instructions.\n\n## Contributors\n\n[![Contributors figure](https://contrib.rocks/image?repo=PathoGenOmics-Lab/VIPERA)](https://github.com/PathoGenOmics-Lab/VIPERA/graphs/contributors)\n\n## Citation\n\n> \u00c1lvarez-Herrera, M. & Sevilla, J., Ruiz-Rodriguez, P., Vergara, A., Vila, J., Cano-Jim\u00e9nez, P., Gonz\u00e1lez-Candelas, F., Comas, I., & Coscoll\u00e1, M. (2024). VIPERA: Viral Intra-Patient Evolution Reporting and Analysis. Virus Evolution, 10(1), veae018. https://doi.org/10.1093/ve/veae018\n\n```bibtex\n@article{ahs2024,\n  title = {{VIPERA}: {Viral} {Intra}-{Patient} {Evolution} {Reporting} and {Analysis}},\n  volume = {10},\n  issn = {2057-1577},\n  shorttitle = {{VIPERA}},\n  url = {https://doi.org/10.1093/ve/veae018},\n  doi = {10.1093/ve/veae018},\n  abstract = {Viral mutations within patients nurture the adaptive potential of severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2) during chronic infections, which are a potential source of variants of concern. However, there is no integrated framework for the evolutionary analysis of intra-patient SARS-CoV-2 serial samples. Herein, we describe Viral Intra-Patient Evolution Reporting and Analysis (VIPERA), a new software that integrates the evaluation of the intra-patient ancestry of SARS-CoV-2 sequences with the analysis of evolutionary trajectories of serial sequences from the same viral infection. We have validated it using positive and negative control datasets and have successfully applied it to a new case, which revealed population dynamics and evidence of adaptive evolution. VIPERA is available under a free software license at https://github.com/PathoGenOmics-Lab/VIPERA.},\n  number = {1},\n  journal = {Virus Evolution},\n  author = {\u00c1lvarez-Herrera$^*$, Miguel and Sevilla$^*$, Jordi and Ruiz-Rodriguez, Paula and Vergara, Andrea and Vila, Jordi and Cano-Jim\u00e9nez, Pablo and Gonz\u00e1lez-Candelas, Fernando and Comas, I\u00f1aki and Coscoll\u00e1, Mireia},\n  month = jan,\n  year = {2024},\n  pages = {veae018},\n  note = {$^*$ indicates equal contribution}\n}\n```\n"
}