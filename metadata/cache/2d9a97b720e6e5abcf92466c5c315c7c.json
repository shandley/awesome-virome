{
  "cache_date": "2025-03-17T23:31:07.381963",
  "data": "# Overview\r\n\r\n## PHPGCA\r\n\r\nPHPGCA is a phage host prediction tool that employs graph convolution and contrastive learning.\r\n\r\n## Required Dependencies\r\n\r\n### Clone the Repository\r\n\r\nTo get started, clone the repository using the following command:\r\n\r\n```bash\r\ngit clone https://github.com/JunPeng-Zhong/PHPGCA.git\r\n```\r\n\r\n### Setting Up the Environment\r\n\r\nYou'll need to set up the environment using either conda or miniconda. Navigate to the project directory and create the environment with the required dependencies by running:\r\n\r\n```bash\r\ncd PHPGCA\r\nconda env create -f requirements_conda.yaml -n PHPGCA\r\n```\r\n\r\nOnce the environment is created, activate it using:\r\n\r\n```bash\r\nconda activate PHPGCA\r\n```\r\n\r\n*Note:* The tool is based on `pyg`, if the cuda version is uncompatity, please follow the installation step in the [Installation \u2014 pytorch_geometric documentation](https://pytorch-geometric.readthedocs.io/en/latest/install/installation.html)\r\n\r\nDue to GitHub limitations, the datasets are hosted on [Google Drive link](https://drive.google.com/drive/folders/1rMcOsaZPozy3f0USxqkH5Orhn0KfFjcX?usp=sharing) . Firstly, download the `blast_db1/` and move it to `PHPGCA/` \r\n\r\nYou should download the datasets and then move them to the `datas/` directory.\r\n\r\nAs an example, we'll consider the CHERRY dataset:\r\n\r\n```bash\r\npython switch_dataset.py --dataset CHERRY\r\n```\r\n\r\n## Usage\r\n\r\n### Switching Datasets\r\n\r\nYou can easily switch between datasets by using the `switch_dataset.py` script. Download the desired dataset, move it to the `datas/` directory, and then execute:\r\n\r\n```bash\r\npython switch_dataset.py --dataset [dataset_name]\r\n```\r\n\r\n### Predicting Hosts for Viruses\r\n\r\nTo reproduce the results, use the provided scripts for top 1 and top 5 predictions:\r\n\r\nFor top 1 prediction:\r\n\r\n```bash\r\n./pretrain.sh\r\n```\r\n\r\nFor top 5 predictions:\r\n\r\n```bash\r\n./pretrain_5.sh\r\n```\r\n\r\n**Example**\r\n\r\n```bash\r\npython switch_dataset.py --dataset CHERRY\r\n./pretrain.sh\r\n```\r\n\r\nIf you want to test the host of a custom virus, ensure you have a fasta file named `test_contigs.fa` containing viral sequences. Then, use the following commands:\r\n\r\n```bash\r\n./construct_graph.sh\r\n./retrain.sh\r\n```\r\n\r\n**Output**\r\n\r\nThe predictions for test viruses will be saved in the `final_prediction.csv` file, with the `contig` column representing the input accession.\r\n\r\n### Adding Additional Training Data\r\n\r\nTo include your own data for **training**, follow these steps:\r\n\r\n- Append the virus sequences to `dataset/nucl.fasta`.\r\n- Add the corresponding host taxonomy to `dataset/virus.csv`, including `Accession` and `Species`.\r\n- Place prokaryotic genomes in the `prokaryote/` directory and update `dataset/prokaryote.csv` with their taxonomy details (`Accession` and `Species`).\r\n\r\nThis will allow you to extend the training data with your custom information.\r\n\r\n## Contact\r\n\r\nFeel free to ask if you have any further questions: g597234159@gmail.com"
}